{
  "hash": "2aa48ad236b89e24a16b3290f41b5ed3",
  "result": {
    "markdown": "---\ntitle: \"Raspando base de dados sobre população do ES\"\nauthor: \"Lucas Lacerda Oliveira\"\ndate: \"2022-07-07\"\ncategories: [phyton, BeautifulSoup]\n---\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nfrom bs4 import BeautifulSoup\nimport requests\nimport pandas as pd\n\nurl = requests.get('https://pt.wikipedia.org/wiki/Lista_de_munic%C3%ADpios_do_Esp%C3%ADrito_Santo_por_popula%C3%A7%C3%A3o')\nprint(url.status_code)\n\nhtml = BeautifulSoup(url.content, 'html.parser')\ntabela = html.find('table')\ntitulos = [i.text for i in tabela.find_all('th')]\nprint(titulos)\ntitulos[2] = 'População'\nprint(titulos)\ndf = pd.DataFrame(columns = titulos)\ndf\nfor j in tabela.find_all('tr')[1:79]:\n    row_data = j.find_all('td')\n    row = [i.text for i in row_data]\n    length = len(df)\n    df.loc[length] = row\ndf\npopulacao = df['População']\nlen(populacao)\npopulacao = [i.split('\\n')[0].split(' [')[0].replace(' ', '.').replace('\\xa0', '.') for i in populacao]\npopulacao = [float(i) for i in populacao]\npopulacao\ndf['População'] = populacao\ndf\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n200\n['Posição', 'Município', 'População\\n']\n['Posição', 'Município', 'População']\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=1}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Posição</th>\n      <th>Município</th>\n      <th>População</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>Serra</td>\n      <td>527.240</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2</td>\n      <td>Vila Velha</td>\n      <td>501.325</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>3</td>\n      <td>Cariacica</td>\n      <td>383.917</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>4</td>\n      <td>Vitória</td>\n      <td>365.855</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>5</td>\n      <td>Cachoeiro de Itapemirim</td>\n      <td>210.589</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>74</td>\n      <td>Alto Rio Novo</td>\n      <td>7.836</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>75</td>\n      <td>Apiacá</td>\n      <td>7.567</td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>76</td>\n      <td>Dores do Rio Preto</td>\n      <td>6.749</td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>77</td>\n      <td>Mucurici</td>\n      <td>5.524</td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>78</td>\n      <td>Divino de São Lourenço</td>\n      <td>4.304</td>\n    </tr>\n  </tbody>\n</table>\n<p>78 rows × 3 columns</p>\n</div>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}