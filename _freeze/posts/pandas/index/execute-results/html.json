{
  "hash": "14ac3ef55e2d8c9577717f48315cc44b",
  "result": {
    "markdown": "---\ntitle: \"Explorando o pacote pandas\"\nauthor: \"Lucas Lacerda Oliveira\"\ndate: \"2022-07-07\"\ncategories: [phyton, pandas]\n---\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<h1>Introdução</h1>\n\n<p>O pacote pandas é considerado por muitos o melhor pacote da linguagem de programação <code>python</code> para trabalhar com dataframes. Nesse post iremos explorar melhor o que esse pacote traz de facilidade na hora de analisarmos dados. A base de dados utilizada é disponibilizada pelo kaggle e nela temos informações sobre vacinação em diversos países.</p>\n\n<h1>Desenvolvimento</h1>\n\n<p>Começamos importando o pacote pandas e informando como iremos chamar o pacote no decorrer do nosso código (<code>pd</code>).</p>\n\n<pre><code class=\"python\">import pandas as pd\n</code></pre>\n\n<p>Após importação do pacote iremos fazer importação da base de dados utilizando a função <code>read_csv</code> e iremos atribuir a base de dados para o objeto <code>df</code>.</p>\n\n<pre><code class=\"python\">df = pd.read_csv(&quot;C:/Users/Lucas/Downloads/country_vaccinations.csv&quot;)\n</code></pre>\n\n<p>Para ver se deu tudo certo na importação da base de dados podemos visualizar o começo da nossa base de dados com a função base do <code>python</code> chamada <code>head</code>. Por default vemos as primeiras 4 observações da base, mas podemos alterar o argumento de quantas obserações queremos ter como output.</p>\n\n<pre><code class=\"python\">df.head()\n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-10</td>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-11</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-12</td>\n      <td>128.0</td>\n      <td>128.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-13</td>\n      <td>188.0</td>\n      <td>188.0</td>\n      <td>NaN</td>\n      <td>60.0</td>\n      <td>63.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-14</td>\n      <td>266.0</td>\n      <td>266.0</td>\n      <td>NaN</td>\n      <td>78.0</td>\n      <td>66.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>23.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<p>Para obter informações gerais sobre a base de dados podemos utilizar a função <code>info</code> que nos retorna as informações sobre o preenchimento e a classe de cada uma das variáveis.</p>\n\n<pre><code class=\"python\">df.info() # informações sobre a base de dados\n</code></pre>\n\n<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;\nRangeIndex: 3396 entries, 0 to 3395\nData columns (total 15 columns):\n #   Column                               Non-Null Count  Dtype  \n---  ------                               --------------  -----  \n 0   country                              3396 non-null   object \n 1   iso_code                             3132 non-null   object \n 2   date                                 3396 non-null   object \n 3   total_vaccinations                   2225 non-null   float64\n 4   people_vaccinated                    1833 non-null   float64\n 5   people_fully_vaccinated              1186 non-null   float64\n 6   daily_vaccinations_raw               1861 non-null   float64\n 7   daily_vaccinations                   3264 non-null   float64\n 8   total_vaccinations_per_hundred       2225 non-null   float64\n 9   people_vaccinated_per_hundred        1833 non-null   float64\n 10  people_fully_vaccinated_per_hundred  1186 non-null   float64\n 11  daily_vaccinations_per_million       3264 non-null   float64\n 12  vaccines                             3396 non-null   object \n 13  source_name                          3396 non-null   object \n 14  source_website                       3396 non-null   object \ndtypes: float64(9), object(6)\nmemory usage: 398.1+ KB\n</code></pre>\n\n<p>Se o objetivo for somente ver como as variáveis do dataframe estão nomeadas podemos chamar <code>df.columns</code> e obter essa informação.</p>\n\n<pre><code class=\"python\">df.columns # colunas no df \n</code></pre>\n\n<pre><code>Index([&#39;country&#39;, &#39;iso_code&#39;, &#39;date&#39;, &#39;total_vaccinations&#39;,\n       &#39;people_vaccinated&#39;, &#39;people_fully_vaccinated&#39;,\n       &#39;daily_vaccinations_raw&#39;, &#39;daily_vaccinations&#39;,\n       &#39;total_vaccinations_per_hundred&#39;, &#39;people_vaccinated_per_hundred&#39;,\n       &#39;people_fully_vaccinated_per_hundred&#39;, &#39;daily_vaccinations_per_million&#39;,\n       &#39;vaccines&#39;, &#39;source_name&#39;, &#39;source_website&#39;],\n      dtype=&#39;object&#39;)\n</code></pre>\n\n<p>Quando queremos acessar a base as observações da base de dados uma a uma em uma lista podemos utilizar chamar <code>df.values</code> e obtemos uma lista com cada uma das observações separadas.</p>\n\n<pre><code class=\"python\">df.values # mostra todas as observações \n</code></pre>\n\n<pre><code>array([[&#39;Albania&#39;, &#39;ALB&#39;, &#39;2021-01-10&#39;, ..., &#39;Pfizer/BioNTech&#39;,\n        &#39;Ministry of Health&#39;,\n        &#39;https://shendetesia.gov.al/vaksinimi-anticovid-kryhen-424-vaksinime-ne-dy-qendrat-e-vaksinimit-ne-shkoder-dhe-tirane/&#39;],\n       [&#39;Albania&#39;, &#39;ALB&#39;, &#39;2021-01-11&#39;, ..., &#39;Pfizer/BioNTech&#39;,\n        &#39;Ministry of Health&#39;,\n        &#39;https://shendetesia.gov.al/vaksinimi-anticovid-kryhen-424-vaksinime-ne-dy-qendrat-e-vaksinimit-ne-shkoder-dhe-tirane/&#39;],\n       [&#39;Albania&#39;, &#39;ALB&#39;, &#39;2021-01-12&#39;, ..., &#39;Pfizer/BioNTech&#39;,\n        &#39;Ministry of Health&#39;,\n        &#39;https://shendetesia.gov.al/vaksinimi-anticovid-kryhen-424-vaksinime-ne-dy-qendrat-e-vaksinimit-ne-shkoder-dhe-tirane/&#39;],\n       ...,\n       [&#39;Wales&#39;, nan, &#39;2021-02-14&#39;, ...,\n        &#39;Oxford/AstraZeneca, Pfizer/BioNTech&#39;,\n        &#39;Government of the United Kingdom&#39;,\n        &#39;https://coronavirus.data.gov.uk/details/healthcare&#39;],\n       [&#39;Wales&#39;, nan, &#39;2021-02-15&#39;, ...,\n        &#39;Oxford/AstraZeneca, Pfizer/BioNTech&#39;,\n        &#39;Government of the United Kingdom&#39;,\n        &#39;https://coronavirus.data.gov.uk/details/healthcare&#39;],\n       [&#39;Wales&#39;, nan, &#39;2021-02-16&#39;, ...,\n        &#39;Oxford/AstraZeneca, Pfizer/BioNTech&#39;,\n        &#39;Government of the United Kingdom&#39;,\n        &#39;https://coronavirus.data.gov.uk/details/healthcare&#39;]],\n      dtype=object)\n</code></pre>\n\n<p>A função <code>loc</code> é bastante útil se quisermos ter uma saída mais organizada de uma informação específica como podemos ver abaixo.</p>\n\n<pre><code class=\"python\">df.loc[1] # um jeito mais organizado de ver uma observação \n</code></pre>\n\n<pre><code>country                                                                          Albania\niso_code                                                                             ALB\ndate                                                                          2021-01-11\ntotal_vaccinations                                                                   NaN\npeople_vaccinated                                                                    NaN\npeople_fully_vaccinated                                                              NaN\ndaily_vaccinations_raw                                                               NaN\ndaily_vaccinations                                                                    64\ntotal_vaccinations_per_hundred                                                       NaN\npeople_vaccinated_per_hundred                                                        NaN\npeople_fully_vaccinated_per_hundred                                                  NaN\ndaily_vaccinations_per_million                                                        22\nvaccines                                                                 Pfizer/BioNTech\nsource_name                                                           Ministry of Health\nsource_website                         https://shendetesia.gov.al/vaksinimi-anticovid...\nName: 1, dtype: object\n</code></pre>\n\n<pre><code class=\"python\">df.loc[[1,2,3]] # pra mais de uma observação \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-11</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-12</td>\n      <td>128.0</td>\n      <td>128.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-13</td>\n      <td>188.0</td>\n      <td>188.0</td>\n      <td>NaN</td>\n      <td>60.0</td>\n      <td>63.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<pre><code class=\"python\">df.loc[[1,2,3],[&quot;country&quot;, &quot;daily_vaccinations&quot;]] # selecionando as observações e também as variáveis \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>daily_vaccinations</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>64.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Albania</td>\n      <td>64.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albania</td>\n      <td>63.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<pre><code class=\"python\">df.loc[1:3]\n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-11</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-12</td>\n      <td>128.0</td>\n      <td>128.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-13</td>\n      <td>188.0</td>\n      <td>188.0</td>\n      <td>NaN</td>\n      <td>60.0</td>\n      <td>63.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<pre><code class=\"python\">df.loc[1:5:2] # selecionando observações 2 a 2 \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-11</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-13</td>\n      <td>188.0</td>\n      <td>188.0</td>\n      <td>NaN</td>\n      <td>60.0</td>\n      <td>63.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-15</td>\n      <td>308.0</td>\n      <td>308.0</td>\n      <td>NaN</td>\n      <td>42.0</td>\n      <td>62.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>22.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<p>Para filtramos a base de dados podemos utilizar a função <code>query</code> em que o argumento recebido por ela será uma condição de alguma das variáveis existentes no dataframe.</p>\n\n<pre><code class=\"python\">df.query(&#39;total_vaccinations &gt;= 1000&#39;). head() # filtra os dados \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>30</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-02-09</td>\n      <td>1127.0</td>\n      <td>689.0</td>\n      <td>438.0</td>\n      <td>NaN</td>\n      <td>82.0</td>\n      <td>0.04</td>\n      <td>0.02</td>\n      <td>0.02</td>\n      <td>28.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>38</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-02-17</td>\n      <td>1701.0</td>\n      <td>1090.0</td>\n      <td>611.0</td>\n      <td>NaN</td>\n      <td>72.0</td>\n      <td>0.06</td>\n      <td>0.04</td>\n      <td>0.02</td>\n      <td>25.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>48</th>\n      <td>Andorra</td>\n      <td>AND</td>\n      <td>2021-02-01</td>\n      <td>1036.0</td>\n      <td>1036.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>66.0</td>\n      <td>1.34</td>\n      <td>1.34</td>\n      <td>NaN</td>\n      <td>854.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Government of Andorra</td>\n      <td>https://www.govern.ad/comunicats/item/12423-el&hellip;</td>\n    </tr>\n    <tr>\n      <th>57</th>\n      <td>Andorra</td>\n      <td>AND</td>\n      <td>2021-02-10</td>\n      <td>1291.0</td>\n      <td>1291.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>28.0</td>\n      <td>1.67</td>\n      <td>1.67</td>\n      <td>NaN</td>\n      <td>362.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Government of Andorra</td>\n      <td>https://www.govern.ad/comunicats/item/12423-el&hellip;</td>\n    </tr>\n    <tr>\n      <th>59</th>\n      <td>Andorra</td>\n      <td>AND</td>\n      <td>2021-02-12</td>\n      <td>1622.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>68.0</td>\n      <td>2.10</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>880.0</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Government of Andorra</td>\n      <td>https://www.govern.ad/comunicats/item/12423-el&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n\n<pre><code class=\"python\">df.query(&#39;total_vaccinations &gt;= 100000&#39;) # filtra os dados \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>80</th>\n      <td>Argentina</td>\n      <td>ARG</td>\n      <td>2021-01-08</td>\n      <td>107542.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>10519.0</td>\n      <td>0.24</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>233.0</td>\n      <td>Sputnik V</td>\n      <td>Ministry of Health</td>\n      <td>http://datos.salud.gob.ar/dataset/vacunas-cont&hellip;</td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>Argentina</td>\n      <td>ARG</td>\n      <td>2021-01-13</td>\n      <td>166833.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>13323.0</td>\n      <td>0.37</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>295.0</td>\n      <td>Sputnik V</td>\n      <td>Ministry of Health</td>\n      <td>http://datos.salud.gob.ar/dataset/vacunas-cont&hellip;</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>Argentina</td>\n      <td>ARG</td>\n      <td>2021-01-15</td>\n      <td>200759.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>13317.0</td>\n      <td>0.44</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>295.0</td>\n      <td>Sputnik V</td>\n      <td>Ministry of Health</td>\n      <td>http://datos.salud.gob.ar/dataset/vacunas-cont&hellip;</td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>Argentina</td>\n      <td>ARG</td>\n      <td>2021-01-20</td>\n      <td>247933.0</td>\n      <td>243539.0</td>\n      <td>4394.0</td>\n      <td>NaN</td>\n      <td>11586.0</td>\n      <td>0.55</td>\n      <td>0.54</td>\n      <td>0.01</td>\n      <td>256.0</td>\n      <td>Sputnik V</td>\n      <td>Ministry of Health</td>\n      <td>http://datos.salud.gob.ar/dataset/vacunas-cont&hellip;</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>Argentina</td>\n      <td>ARG</td>\n      <td>2021-01-21</td>\n      <td>265724.0</td>\n      <td>249372.0</td>\n      <td>16352.0</td>\n      <td>17791.0</td>\n      <td>11704.0</td>\n      <td>0.59</td>\n      <td>0.55</td>\n      <td>0.04</td>\n      <td>259.0</td>\n      <td>Sputnik V</td>\n      <td>Ministry of Health</td>\n      <td>http://datos.salud.gob.ar/dataset/vacunas-cont&hellip;</td>\n    </tr>\n    <tr>\n      <th>&hellip;</th>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n    </tr>\n    <tr>\n      <th>3391</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-12</td>\n      <td>753669.0</td>\n      <td>749445.0</td>\n      <td>4224.0</td>\n      <td>33715.0</td>\n      <td>27743.0</td>\n      <td>23.90</td>\n      <td>23.77</td>\n      <td>0.13</td>\n      <td>8799.0</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3392</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-13</td>\n      <td>776224.0</td>\n      <td>771651.0</td>\n      <td>4573.0</td>\n      <td>22555.0</td>\n      <td>26285.0</td>\n      <td>24.62</td>\n      <td>24.47</td>\n      <td>0.15</td>\n      <td>8337.0</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3393</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-14</td>\n      <td>790211.0</td>\n      <td>784809.0</td>\n      <td>5402.0</td>\n      <td>13987.0</td>\n      <td>26206.0</td>\n      <td>25.06</td>\n      <td>24.89</td>\n      <td>0.17</td>\n      <td>8312.0</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3394</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-15</td>\n      <td>803178.0</td>\n      <td>795927.0</td>\n      <td>7251.0</td>\n      <td>12967.0</td>\n      <td>24418.0</td>\n      <td>25.47</td>\n      <td>25.24</td>\n      <td>0.23</td>\n      <td>7745.0</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3395</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-16</td>\n      <td>820339.0</td>\n      <td>807351.0</td>\n      <td>12988.0</td>\n      <td>17161.0</td>\n      <td>23033.0</td>\n      <td>26.02</td>\n      <td>25.61</td>\n      <td>0.41</td>\n      <td>7305.0</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n<p>1305 rows × 15 columns</p>\n</div>\n\n<p>Outra funçao interessante é a <code>select_dtypes</code> em que podemos utilizá-la para fazermos uma seleção de variáveis de um único tipo de classe.</p>\n\n<pre><code class=\"python\">df.select_dtypes(include=&#39;object&#39;) # seleciona uma classe específica das variáveis do df \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>country</th>\n      <th>iso_code</th>\n      <th>date</th>\n      <th>vaccines</th>\n      <th>source_name</th>\n      <th>source_website</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-10</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-11</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-12</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-13</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Albania</td>\n      <td>ALB</td>\n      <td>2021-01-14</td>\n      <td>Pfizer/BioNTech</td>\n      <td>Ministry of Health</td>\n      <td>https://shendetesia.gov.al/vaksinimi-anticovid&hellip;</td>\n    </tr>\n    <tr>\n      <th>&hellip;</th>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n    </tr>\n    <tr>\n      <th>3391</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-12</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3392</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-13</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3393</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-14</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3394</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-15</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n    <tr>\n      <th>3395</th>\n      <td>Wales</td>\n      <td>NaN</td>\n      <td>2021-02-16</td>\n      <td>Oxford/AstraZeneca, Pfizer/BioNTech</td>\n      <td>Government of the United Kingdom</td>\n      <td>https://coronavirus.data.gov.uk/details/health&hellip;</td>\n    </tr>\n  </tbody>\n</table>\n<p>3396 rows × 6 columns</p>\n</div>\n\n<pre><code class=\"python\">df.select_dtypes(include=&#39;float&#39;) # seleciona uma classe específica das variáveis do df \n</code></pre>\n\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>total_vaccinations</th>\n      <th>people_vaccinated</th>\n      <th>people_fully_vaccinated</th>\n      <th>daily_vaccinations_raw</th>\n      <th>daily_vaccinations</th>\n      <th>total_vaccinations_per_hundred</th>\n      <th>people_vaccinated_per_hundred</th>\n      <th>people_fully_vaccinated_per_hundred</th>\n      <th>daily_vaccinations_per_million</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0.0</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>22.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>128.0</td>\n      <td>128.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>64.0</td>\n      <td>0.00</td>\n      <td>0.00</td>\n      <td>NaN</td>\n      <td>22.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>188.0</td>\n      <td>188.0</td>\n      <td>NaN</td>\n      <td>60.0</td>\n      <td>63.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>22.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>266.0</td>\n      <td>266.0</td>\n      <td>NaN</td>\n      <td>78.0</td>\n      <td>66.0</td>\n      <td>0.01</td>\n      <td>0.01</td>\n      <td>NaN</td>\n      <td>23.0</td>\n    </tr>\n    <tr>\n      <th>&hellip;</th>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n      <td>&hellip;</td>\n    </tr>\n    <tr>\n      <th>3391</th>\n      <td>753669.0</td>\n      <td>749445.0</td>\n      <td>4224.0</td>\n      <td>33715.0</td>\n      <td>27743.0</td>\n      <td>23.90</td>\n      <td>23.77</td>\n      <td>0.13</td>\n      <td>8799.0</td>\n    </tr>\n    <tr>\n      <th>3392</th>\n      <td>776224.0</td>\n      <td>771651.0</td>\n      <td>4573.0</td>\n      <td>22555.0</td>\n      <td>26285.0</td>\n      <td>24.62</td>\n      <td>24.47</td>\n      <td>0.15</td>\n      <td>8337.0</td>\n    </tr>\n    <tr>\n      <th>3393</th>\n      <td>790211.0</td>\n      <td>784809.0</td>\n      <td>5402.0</td>\n      <td>13987.0</td>\n      <td>26206.0</td>\n      <td>25.06</td>\n      <td>24.89</td>\n      <td>0.17</td>\n      <td>8312.0</td>\n    </tr>\n    <tr>\n      <th>3394</th>\n      <td>803178.0</td>\n      <td>795927.0</td>\n      <td>7251.0</td>\n      <td>12967.0</td>\n      <td>24418.0</td>\n      <td>25.47</td>\n      <td>25.24</td>\n      <td>0.23</td>\n      <td>7745.0</td>\n    </tr>\n    <tr>\n      <th>3395</th>\n      <td>820339.0</td>\n      <td>807351.0</td>\n      <td>12988.0</td>\n      <td>17161.0</td>\n      <td>23033.0</td>\n      <td>26.02</td>\n      <td>25.61</td>\n      <td>0.41</td>\n      <td>7305.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>3396 rows × 9 columns</p>\n</div>\n\n<p>Uma das funções que considero mais importantes de saber utilizar na análise de dados é o <code>groupby</code> e abaixo podemos ver como é fácil a sua utilização no <code>python</code>.</p>\n\n<pre><code class=\"python\">df.groupby(by=&#39;country&#39;).size() # agrupamento \n</code></pre>\n\n<pre><code>country\nAlbania                     39\nAlgeria                      2\nAndorra                     19\nAnguilla                    10\nArgentina                   51\n                            ..\nTurks and Caicos Islands    30\nUnited Arab Emirates        44\nUnited Kingdom              66\nUnited States               60\nWales                       66\nLength: 94, dtype: int64\n</code></pre>\n\n<pre><code class=\"python\">df.groupby(by=&#39;country&#39;)[&#39;total_vaccinations_per_hundred&#39;].mean() # agrupamento com seleção de &quot;coluna resposta&quot;\n</code></pre>\n\n<pre><code>country\nAlbania                      0.017857\nAlgeria                      0.000000\nAndorra                      1.465000\nAnguilla                     4.470000\nArgentina                    0.818750\n                              ...    \nTurks and Caicos Islands     8.310000\nUnited Arab Emirates        29.550488\nUnited Kingdom              12.176429\nUnited States                7.026304\nWales                       11.999250\nName: total_vaccinations_per_hundred, Length: 94, dtype: float64\n</code></pre>\n\n<p>Contrário ao que vemos com a função <code>info</code> que nos retorna os dados válidos, abaixo podemos ver como saber a quantidade de dados <em>nulos</em> em nosso dataframe.</p>\n\n<pre><code class=\"python\">df.isnull().sum() # mostra a quantidade de valores ausentes por variável \n</code></pre>\n\n<pre><code>country                                   0\niso_code                                264\ndate                                      0\ntotal_vaccinations                     1171\npeople_vaccinated                      1563\npeople_fully_vaccinated                2210\ndaily_vaccinations_raw                 1535\ndaily_vaccinations                      132\ntotal_vaccinations_per_hundred         1171\npeople_vaccinated_per_hundred          1563\npeople_fully_vaccinated_per_hundred    2210\ndaily_vaccinations_per_million          132\nvaccines                                  0\nsource_name                               0\nsource_website                            0\ndtype: int64\n</code></pre>\n\n<p>Por fim, abaixo podemos ver a utilização das funções <code>upper</code> e <code>lower</code> que transforma todos os caracters de uma string para maiúsculo e tranforma todos os caracters de uma string para minúsculo, respectivamente. </p>\n\n<pre><code class=\"python\">df.country.str.upper().head()\n</code></pre>\n\n<pre><code>0    ALBANIA\n1    ALBANIA\n2    ALBANIA\n3    ALBANIA\n4    ALBANIA\nName: country, dtype: object\n</code></pre>\n\n<pre><code class=\"python\">df.country.str.lower().head()\n</code></pre>\n\n<pre><code>0    albania\n1    albania\n2    albania\n3    albania\n4    albania\nName: country, dtype: object\n</code></pre>\n\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}